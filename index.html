<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ENPLASE üå± ¬∑ Plante ¬∑ Arrose ¬∑ R√©colte</title>
    <link rel="stylesheet" href="style.css">

    <!-- PWA -->
    <link rel="manifest" href="manifest.json">
    <meta name="theme-color" content="#2d5016">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="apple-mobile-web-app-title" content="ENPLASE">
    <link rel="apple-touch-icon" href="icons/icon-192.png">
</head>
<body>

    <!-- ======== BARRE DE NAVIGATION ======== -->
    <nav id="main-nav">
        <button class="nav-btn active" data-menu="plantes">üå± Plantes</button>
        <button class="nav-btn" data-menu="semis">üåæ Semis</button>
        <button class="nav-btn" data-menu="astuces">üìã Astuces</button>
    </nav>

    <!-- ======== CONTENEUR PRINCIPAL ======== -->
    <main id="app-container">

        <!-- ===================== -->
        <!-- MENU 1 : LES PLANTES -->
        <!-- ===================== -->
        <section id="menu-plantes" class="menu-section active">

            <!-- Liste des pots/bacs -->
            <div id="plantes-liste-view" class="view active">
                <div class="view-header">
                    <h1>Mes Pots & Bacs</h1>
                    <button id="btn-add-pot" class="btn-add" title="Ajouter un pot/bac">+</button>
                </div>
                <div id="pots-list" class="items-list">
                    <!-- Rempli dynamiquement -->
                </div>
            </div>

            <!-- Cr√©ation d'un pot/bac -->
            <div id="plantes-creation-view" class="view">
                <div class="view-header">
                    <button class="btn-back" data-back="plantes-liste-view">‚Üê Retour</button>
                    <h1>Nouveau Pot / Bac</h1>
                </div>
                <form id="form-creation-pot" class="form-card">
                    <div class="form-group">
                        <label for="pot-nom">Nom du pot/bac <span class="required">*</span></label>
                        <input type="text" id="pot-nom" required placeholder="Ex: Bac balcon sud">
                    </div>
                    <div class="form-group">
                        <label for="pot-lieu">Lieu</label>
                        <input type="text" id="pot-lieu" placeholder="Ex: Balcon, Jardin, Cuisine...">
                    </div>
                    <div class="form-group">
                        <label for="pot-litrage">Litrage</label>
                        <input type="text" id="pot-litrage" placeholder="Ex: 15L">
                    </div>
                    <div class="form-group">
                        <label for="pot-exposition">Exposition</label>
                        <select id="pot-exposition">
                            <option value="">-- Choisir --</option>
                            <option value="Soleil">Soleil</option>
                            <option value="Mi-ombre">Mi-ombre</option>
                            <option value="Ombre">Ombre</option>
                            <option value="Int√©rieur">Int√©rieur</option>
                            <option value="Int√©rieur lumi√®re artificielle">Int√©rieur avec lumi√®re artificielle</option>
                        </select>
                    </div>

                    <div class="form-section">
                        <h2>Contenu (Plantes)</h2>
                        <div id="creation-plantes-container">
                            <!-- Premi√®re plante par d√©faut -->
                            <div class="plante-entry" data-index="0">
                                <div class="plante-entry-fields">
                                    <input type="text" class="plante-nom" placeholder="Nom de la plante" required>
                                    <input type="date" class="plante-date" title="Date de plantation">
                                </div>
                            </div>
                        </div>
                        <button type="button" id="btn-add-plante-creation" class="btn-add-small">+ Ajouter une plante</button>
                    </div>

                    <div class="form-actions">
                        <button type="submit" class="btn-primary">Enregistrer</button>
                        <button type="button" class="btn-secondary btn-back" data-back="plantes-liste-view">Annuler</button>
                    </div>
                </form>
            </div>

            <!-- Consultation / Entretien d'un pot/bac -->
            <div id="plantes-detail-view" class="view">
                <div class="view-header">
                    <button class="btn-back" data-back="plantes-liste-view">‚Üê Retour</button>
                    <h1 id="detail-pot-titre"></h1>
                </div>
                <div id="detail-pot-content" class="form-card">
                    <!-- Infos du pot -->
                    <div id="detail-pot-infos" class="info-section">
                        <!-- Rempli dynamiquement -->
                    </div>

                    <!-- √âtat de la terre (PRIORITAIRE) -->
                    <div class="form-section priority-section">
                        <h2>üåç √âtat de la terre</h2>
                        <p id="detail-dernier-controle-terre"><strong>Dernier contr√¥le :</strong> Aucun</p>
                        <select id="detail-terre" class="select-field">
                            <option value="">-- Non v√©rifi√© --</option>
                            <option value="Tr√®s s√®che">Tr√®s s√®che</option>
                            <option value="S√®che">S√®che</option>
                            <option value="Fra√Æche">Fra√Æche</option>
                            <option value="Humide">Humide</option>
                            <option value="Tr√®s humide">Tr√®s humide</option>
                        </select>
                    </div>

                    <!-- Arrosage -->
                    <div class="form-section">
                        <h2>üíß Arrosage</h2>
                        <div class="info-line" id="detail-dernier-arrosage"></div>
                        <div class="info-line" id="detail-prochain-arrosage"></div>
                        <div class="form-group">
                            <label for="detail-arrosage-type">Type d'arrosage</label>
                            <select id="detail-arrosage-type">
                                <option value="">-- Pas d'arrosage --</option>
                                <option value="Brumis√©">Brumis√© (tr√®s l√©ger)</option>
                                <option value="Humidifi√©">Humidifi√© (l√©ger)</option>
                                <option value="Arros√©">Arros√© (normal)</option>
                                <option value="Inond√©">Inond√© (beaucoup)</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="detail-arrosage-quantite">Quantit√© (facultatif)</label>
                            <input type="text" id="detail-arrosage-quantite" placeholder="Ex: 150ml, 1L...">
                        </div>
                    </div>

                    <!-- Engrais -->
                    <div class="form-section">
                        <h2>üß™ Engrais</h2>
                        <div class="info-line" id="detail-dernier-engrais"></div>
                        <div class="form-group">
                            <label class="checkbox-label">
                                <input type="checkbox" id="detail-engrais-ajout">
                                Ajout d'engrais aujourd'hui
                            </label>
                        </div>
                    </div>

                    <!-- Serre -->
                    <div class="form-section">
                        <h2>üè† Maintien en serre</h2>
                        <div class="info-line" id="detail-serre-info"></div>
                        <div class="form-group">
                            <label for="detail-serre">En serre ?</label>
                            <select id="detail-serre">
                                <option value="">-- Ne pas modifier --</option>
                                <option value="Oui">Oui</option>
                                <option value="Non">Non</option>
                            </select>
                        </div>
                    </div>

                    <!-- √âtat des plantes -->
                    <div class="form-section">
                        <h2>üåø √âtat des plantes</h2>
                        <div id="detail-plantes-etat">
                            <!-- Rempli dynamiquement : une ligne par plante -->
                        </div>
                    </div>

                    <div class="form-actions">
                        <button type="button" id="btn-enregistrer-entretien" class="btn-primary">Enregistrer</button>
                        <button type="button" id="btn-modifier-pot" class="btn-secondary">Modifier</button>
                    </div>
                </div>
            </div>

            <!-- Modification d'un pot/bac -->
            <div id="plantes-modifier-view" class="view">
                <div class="view-header">
                    <button class="btn-back" data-back="plantes-detail-view">‚Üê Retour</button>
                    <h1>Modifier le Pot / Bac</h1>
                </div>
                <form id="form-modifier-pot" class="form-card">
                    <input type="hidden" id="modifier-pot-id">
                    <div class="form-group">
                        <label for="modifier-pot-nom">Nom du pot/bac <span class="required">*</span></label>
                        <input type="text" id="modifier-pot-nom" required>
                    </div>
                    <div class="form-group">
                        <label for="modifier-pot-lieu">Lieu</label>
                        <input type="text" id="modifier-pot-lieu">
                    </div>
                    <div class="form-group">
                        <label for="modifier-pot-litrage">Litrage</label>
                        <input type="text" id="modifier-pot-litrage">
                    </div>
                    <div class="form-group">
                        <label for="modifier-pot-exposition">Exposition</label>
                        <select id="modifier-pot-exposition">
                            <option value="">-- Choisir --</option>
                            <option value="Soleil">Soleil</option>
                            <option value="Mi-ombre">Mi-ombre</option>
                            <option value="Ombre">Ombre</option>
                            <option value="Int√©rieur">Int√©rieur</option>
                            <option value="Int√©rieur lumi√®re artificielle">Int√©rieur avec lumi√®re artificielle</option>
                        </select>
                    </div>

                    <div class="form-section">
                        <h2>Contenu (Plantes)</h2>
                        <div id="modifier-plantes-container">
                            <!-- Rempli dynamiquement -->
                        </div>
                        <button type="button" id="btn-add-plante-modifier" class="btn-add-small">+ Ajouter une plante</button>
                    </div>

                    <div class="form-section danger-section">
                        <h2>‚ö†Ô∏è Actions</h2>
                        <button type="button" id="btn-reset-historique-pot" class="btn-warning">Remettre √† z√©ro l'historique</button>
                        <button type="button" id="btn-supprimer-pot" class="btn-danger">Supprimer ce pot/bac</button>
                    </div>

                    <div class="form-actions">
                        <button type="submit" class="btn-primary">Enregistrer les modifications</button>
                        <button type="button" class="btn-secondary btn-back" data-back="plantes-detail-view">Annuler</button>
                    </div>
                </form>
            </div>

        </section>

        <!-- ================== -->
        <!-- MENU 2 : LES SEMIS -->
        <!-- ================== -->
        <section id="menu-semis" class="menu-section">

            <!-- Liste des bacs de semis -->
            <div id="semis-liste-view" class="view active">
                <div class="view-header">
                    <h1>Mes Bacs de Semis</h1>
                    <button id="btn-add-semis" class="btn-add" title="Ajouter un bac de semis">+</button>
                </div>
                <div id="semis-list" class="items-list">
                    <!-- Rempli dynamiquement -->
                </div>
            </div>

            <!-- Cr√©ation d'un bac de semis -->
            <div id="semis-creation-view" class="view">
                <div class="view-header">
                    <button class="btn-back" data-back="semis-liste-view">‚Üê Retour</button>
                    <h1>Nouveau Bac de Semis</h1>
                </div>
                <form id="form-creation-semis" class="form-card">
                    <div class="form-group">
                        <label for="semis-nom">Nom du bac <span class="required">*</span></label>
                        <input type="text" id="semis-nom" required placeholder="Ex: Tomates mars 2026">
                    </div>
                    <div class="form-group">
                        <label for="semis-lieu">Lieu</label>
                        <input type="text" id="semis-lieu" placeholder="Ex: Rebord fen√™tre, Serre...">
                    </div>
                    <div class="form-group">
                        <label for="semis-exposition">Exposition</label>
                        <select id="semis-exposition">
                            <option value="">-- Choisir --</option>
                            <option value="Soleil">Soleil</option>
                            <option value="Mi-ombre">Mi-ombre</option>
                            <option value="Ombre">Ombre</option>
                            <option value="Int√©rieur">Int√©rieur</option>
                            <option value="Int√©rieur lumi√®re artificielle">Int√©rieur avec lumi√®re artificielle</option>
                        </select>
                    </div>

                    <div class="form-section">
                    <h2>Configuration de la grille</h2>
                    <div class="form-row">
                        <div class="form-group">
                            <label for="semis-lignes">Nombre de lignes <span class="required">*</span></label>
                            <input type="number" id="semis-lignes" min="1" max="15" value="4" required>
                        </div>
                        <div class="form-group">
                            <label for="semis-colonnes">Nombre de colonnes <span class="required">*</span></label>
                            <input type="number" id="semis-colonnes" min="1" max="15" value="6" required>
                        </div>
                    </div>
                    <button type="button" id="btn-generer-grille" class="btn-secondary">G√©n√©rer l'aper√ßu</button>
                </div>

                <!-- Aper√ßu grille (appara√Æt apr√®s clic sur G√©n√©rer) -->
                <div id="creation-grille-section" class="form-section hidden">
                    <h2>Aper√ßu du bac</h2>
                    <div class="semis-grille-wrapper">
                        <div id="creation-grille" class="semis-grid-display"></div>
                        <div class="semis-reperes">
                            <span class="repere-g">G</span>
                            <span class="repere-d">D</span>
                        </div>
                    </div>
                    <div class="semis-legend">
                        <span class="legend-item"><span class="legend-color" style="background:#a8b8c0"></span> En attente</span>
                        <span class="legend-item"><span class="legend-color" style="background:#4caf50"></span> A lev√©</span>
                        <span class="legend-item"><span class="legend-color" style="background:#9575CD"></span> √ât√© Replant√©e</span>
                        <span class="legend-item"><span class="legend-color" style="background:#2d2d2d"></span> Morte</span>
                    </div>
                </div>

                <!-- Nommer les positions (appara√Æt apr√®s g√©n√©ration) -->
                <div id="creation-noms-section" class="form-section hidden">
                    <h2>Nommer les positions (facultatif)</h2>
                    <div id="creation-noms-liste" class="grid-names-list"></div>
                </div>

                    <div class="form-actions">
                        <button type="submit" class="btn-primary">Cr√©er le bac</button>
                        <button type="button" class="btn-secondary btn-back" data-back="semis-liste-view">Annuler</button>
                    </div>
                </form>
            </div>

            <!-- Consultation / Entretien d'un bac de semis -->
            <div id="semis-detail-view" class="view">
                <div class="view-header">
                    <button class="btn-back" data-back="semis-liste-view">‚Üê Retour</button>
                    <h1 id="detail-semis-titre"></h1>
                </div>
                <div id="detail-semis-content" class="form-card">
                    <div id="detail-semis-infos" class="info-section"></div>

                    <!-- √âtat de la terre -->
                    <div class="form-section priority-section">
                        <h2>üåç √âtat de la terre</h2>
                        <p id="detail-semis-dernier-controle-terre"><strong>Dernier contr√¥le :</strong> Aucun</p>
                        <select id="detail-semis-terre">
                            <option value="">-- Non v√©rifi√© --</option>
                            <option value="Tr√®s s√®che">Tr√®s s√®che</option>
                            <option value="S√®che">S√®che</option>
                            <option value="Fra√Æche">Fra√Æche</option>
                            <option value="Humide">Humide</option>
                            <option value="Tr√®s humide">Tr√®s humide</option>
                        </select>
                    </div>

                    <!-- Arrosage -->
                    <div class="form-section">
                        <h2>üíß Arrosage</h2>
                        <div class="info-line" id="detail-semis-dernier-arrosage"></div>
                        <div class="info-line" id="detail-semis-prochain-arrosage"></div>
                        <div class="form-group">
                            <label for="detail-semis-arrosage-type">Type d'arrosage</label>
                            <select id="detail-semis-arrosage-type">
                                <option value="">-- Pas d'arrosage --</option>
                                <option value="Brumis√©">Brumis√© (tr√®s l√©ger)</option>
                                <option value="Humidifi√©">Humidifi√© (l√©ger)</option>
                                <option value="Arros√©">Arros√© (normal)</option>
                                <option value="Inond√©">Inond√© (beaucoup)</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="detail-semis-arrosage-quantite">Quantit√© (facultatif)</label>
                            <input type="text" id="detail-semis-arrosage-quantite" placeholder="Ex: 50ml...">
                        </div>
                    </div>

                    <!-- Engrais -->
                    <div class="form-section">
                        <h2>üß™ Engrais</h2>
                        <div class="info-line" id="detail-semis-dernier-engrais"></div>
                        <div class="form-group">
                            <label class="checkbox-label">
                                <input type="checkbox" id="detail-semis-engrais-ajout">
                                Ajout d'engrais aujourd'hui
                            </label>
                        </div>
                    </div>

                    <!-- Serre -->
                    <div class="form-section">
                        <h2>üè† Maintien en serre</h2>
                        <div class="info-line" id="detail-semis-serre-info"></div>
                        <div class="form-group">
                            <label for="detail-semis-serre">En serre ?</label>
                            <select id="detail-semis-serre">
                                <option value="">-- Ne pas modifier --</option>
                                <option value="Oui">Oui</option>
                                <option value="Non">Non</option>
                            </select>
                        </div>
                    </div>

                    <!-- Grille de semis -->
                    <div class="form-section">
                        <h2>üå± Grille des semis</h2>
                        <div class="semis-legend">
                            <span class="legend-item"><span class="legend-color" style="background:#a8b8c0"></span> En attente</span>
                            <span class="legend-item"><span class="legend-color" style="background:#4caf50"></span> A lev√©</span>
                            <span class="legend-item"><span class="legend-color" style="background:#9575CD"></span> √ât√© Replant√©e</span>
                            <span class="legend-item"><span class="legend-color" style="background:#2d2d2d"></span> Morte</span>
                        </div>
                        <div class="semis-grille-wrapper">
                            <div id="detail-semis-grid" class="semis-grid-display"></div>
                            <div class="semis-reperes">
                                <span class="repere-g">G</span>
                                <span class="repere-d">D</span>
                            </div>
                        </div>
                    </div>

                    <div class="form-actions">
                        <button type="button" id="btn-enregistrer-semis" class="btn-primary">Enregistrer</button>
                        <button type="button" id="btn-modifier-semis" class="btn-secondary">Modifier</button>
                    </div>
                </div>
            </div>

            <!-- Modification d'un bac de semis -->
            <div id="semis-modifier-view" class="view">
                <div class="view-header">
                    <button class="btn-back" data-back="semis-detail-view">‚Üê Retour</button>
                    <h1>Modifier le Bac de Semis</h1>
                </div>
                <form id="form-modifier-semis" class="form-card">
                    <input type="hidden" id="modifier-semis-id">
                    <div class="form-group">
                        <label for="modifier-semis-nom">Nom du bac <span class="required">*</span></label>
                        <input type="text" id="modifier-semis-nom" required>
                    </div>
                    <div class="form-group">
                        <label for="modifier-semis-lieu">Lieu</label>
                        <input type="text" id="modifier-semis-lieu">
                    </div>
                    <div class="form-group">
                        <label for="modifier-semis-exposition">Exposition</label>
                        <select id="modifier-semis-exposition">
                            <option value="">-- Choisir --</option>
                            <option value="Soleil">Soleil</option>
                            <option value="Mi-ombre">Mi-ombre</option>
                            <option value="Ombre">Ombre</option>
                            <option value="Int√©rieur">Int√©rieur</option>
                            <option value="Int√©rieur lumi√®re artificielle">Int√©rieur avec lumi√®re artificielle</option>
                        </select>
                    </div>

                                        <div class="form-section">
                        <h2>Dimensions de la grille</h2>
                        <div class="form-row">
                            <div class="form-group">
                                <label for="modifier-semis-lignes">Lignes</label>
                                <input type="number" id="modifier-semis-lignes" min="1" max="25">
                            </div>
                            <div class="form-group">
                                <label for="modifier-semis-colonnes">Colonnes</label>
                                <input type="number" id="modifier-semis-colonnes" min="1" max="25">
                            </div>
                        </div>
                    </div>

                    <div class="form-section">
                        <h2>Grille ‚Äî Nommer les positions</h2>
                        <div id="modifier-semis-noms" class="grid-names-list">
                            <!-- Rempli dynamiquement -->
                        </div>
                    </div>

                    <div class="form-section danger-section">
                        <h2>‚ö†Ô∏è Actions</h2>
                        <button type="button" id="btn-reset-historique-semis" class="btn-warning">Remettre √† z√©ro l'historique</button>
                        <button type="button" id="btn-supprimer-semis" class="btn-danger">Supprimer ce bac de semis</button>
                    </div>

                    <div class="form-actions">
                        <button type="submit" class="btn-primary">Enregistrer les modifications</button>
                        <button type="button" class="btn-secondary btn-back" data-back="semis-detail-view">Annuler</button>
                    </div>
                </form>
            </div>

        </section>

        <!-- ================================ -->
        <!-- MENU 3 : ASTUCES & INFORMATIONS -->
        <!-- ================================ -->
        <section id="menu-astuces" class="menu-section">

            <!-- Sous-navigation -->
            <div class="sub-nav">
                <button class="sub-nav-btn active" data-subtab="infos">Astuces & Informations</button>
                <button class="sub-nav-btn" data-subtab="ajout-conseil">Ajouter Conseils</button>
            </div>

            <!-- Onglet Astuces & Informations -->
            <div id="subtab-infos" class="subtab active">
                <div class="form-card">
                    <h2>üåø Guide des √©tats des plantes</h2>

                    <div class="astuce-card etat-sain">
                        <h3>üü¢ Sain</h3>
                        <p><strong>Actions :</strong> Entretien courant, rappel d'arrosage/fertilisation, pas d'intervention particuli√®re.</p>
                    </div>
                    <div class="astuce-card etat-croissance">
                        <h3>üü© En croissance</h3>
                        <p><strong>Actions :</strong> Fertilisation l√©g√®re, tuteurage si besoin, surveillance.</p>
                    </div>
                    <div class="astuce-card etat-repos">
                        <h3>üí§ Au repos</h3>
                        <p><strong>Actions :</strong> R√©duire eau & engrais, protection climatique si n√©cessaire.</p>
                    </div>
                    <div class="astuce-card etat-reprise">
                        <h3>üîÑ En reprise</h3>
                        <p><strong>Actions :</strong> Surveillance rapproch√©e, arrosage/engrais mod√©r√©, √©viter stress suppl√©mentaires (pas de rempotage ni fertilisation forte).</p>
                    </div>
                    <div class="astuce-card etat-stresse">
                        <h3>‚ö†Ô∏è Stress√©</h3>
                        <p><strong>Actions :</strong> Diagnostiquer la cause (manque/exc√®s d'eau, choc, gel, br√ªlure), actions correctives imm√©diates (arroser/drainer, ombrer, rempoter).</p>
                    </div>
                    <div class="astuce-card etat-parasite">
                        <h3>üêõ Parasit√©</h3>
                        <p><strong>Actions :</strong> Isolation, contr√¥le m√©canique/biologique, traitement cibl√©.</p>
                    </div>
                    <div class="astuce-card etat-malade">
                        <h3>ü§í Malade</h3>
                        <p><strong>Actions :</strong> Isolement, suppression des parties atteintes, traitement adapt√©, analyser propagation.</p>
                    </div>
                    <div class="astuce-card etat-mort">
                        <h3>üíÄ Mort</h3>
                        <p><strong>Actions :</strong> Retrait, compostage si s√ªr, analyser causes si r√©current.</p>
                    </div>

                    <hr class="separator">

                    <!-- Import / Export -->
                    <h2>üíæ Sauvegarde</h2>
                    <div class="backup-section">
                        <button id="btn-export" class="btn-primary">üì§ Exporter la sauvegarde (.json)</button>
                        <div class="import-group">
                            <label for="import-file" class="btn-secondary btn-import-label">üì• Importer une sauvegarde (.json)</label>
                            <input type="file" id="import-file" accept=".json" hidden>
                        </div>
                    </div>

                    <hr class="separator">

                    <!-- Informations -->
                    <h2>‚ÑπÔ∏è Informations</h2>
                    <div class="app-info">
                        <p><strong>Application :</strong> ENPLASE</p>
                        <p><strong>¬´ Plante üå± ¬∑ Arrose üíß ¬∑ R√©colte üß∫ ¬ª</strong></p>
                        <p><strong>Cr√©ateur :</strong> Leroy Aur√©lien</p>
                        <p><strong>Version :</strong> 1.01</p>
                        <p><strong>¬©</strong> Tous Droits R√©serv√©s 2026</p>
                    </div>
                </div>
            </div>

            <!-- Onglet Ajouter Conseils -->
<div id="subtab-ajout-conseil" class="subtab">

    <!-- Vue liste des conseils -->
    <div id="conseil-liste-view" class="conseil-view active">
        <div class="view-header">
            <h1>Mes Conseils</h1>
            <button id="btn-add-conseil" class="btn-add" title="Ajouter un conseil">+</button>
        </div>
        <div id="conseils-list" class="conseil-list">
            <!-- Rempli dynamiquement -->
        </div>
    </div>

    <!-- Vue d√©tail d'un conseil -->
    <div id="conseil-detail-view" class="conseil-view">
        <div class="view-header">
            <button class="btn-back-conseil" data-backview="liste">‚Üê Retour</button>
            <h1>D√©tail du Conseil</h1>
        </div>
        <div id="conseil-detail-content" class="form-card">
            <h2 id="detail-conseil-titre"></h2>
            <div id="detail-conseil-texte" class="detail-texte"></div>
            <div id="detail-conseil-lien" class="detail-lien"></div>
            <div id="detail-conseil-source" class="detail-source"></div>
        </div>
    </div>

    <!-- Vue cr√©ation d'un conseil -->
    <div id="conseil-creation-view" class="conseil-view">
        <div class="view-header">
            <button class="btn-back-conseil" data-backview="liste">‚Üê Retour</button>
            <h1>Nouveau Conseil</h1>
        </div>
        <form id="form-creation-conseil" class="form-card">
            <div class="form-group">
                <label for="conseil-titre">Titre <span class="required">*</span></label>
                <input type="text" id="conseil-titre" required placeholder="Ex: Arrosage des tomates">
            </div>
            <div class="form-group">
                <label for="conseil-texte">Conseil / Astuce <span class="required">*</span></label>
                <textarea id="conseil-texte" rows="6" required placeholder="R√©digez votre conseil ici..."></textarea>
            </div>
            <div class="form-group">
                <label for="conseil-lien">Lien internet (facultatif)</label>
                <input type="url" id="conseil-lien" placeholder="https://...">
            </div>
            <div class="form-group">
                <label for="conseil-source">Source (facultatif)</label>
                <input type="text" id="conseil-source" placeholder="Ex: Livre, site web, exp√©rience...">
            </div>
            <div class="form-actions">
                <button type="submit" class="btn-primary">Enregistrer</button>
                <button type="button" class="btn-secondary btn-back-conseil" data-backview="liste">Annuler</button>
            </div>
        </form>
    </div>

    <!-- Vue √©dition conseil -->
    <div id="conseil-edition-view" class="conseil-view">
        <div class="view-header">
            <button class="btn-back-conseil" data-backview="liste">‚Üê Retour</button>
            <h1>Modifier le Conseil</h1>
        </div>
        <form id="form-edition-conseil" class="form-card">
            <input type="hidden" id="edit-conseil-id">
            <div class="form-group">
                <label for="edit-conseil-titre">Titre <span class="required">*</span></label>
                <input type="text" id="edit-conseil-titre" required placeholder="Ex: Arrosage des tomates">
            </div>
            <div class="form-group">
                <label for="edit-conseil-texte">Conseil / Astuce <span class="required">*</span></label>
                <textarea id="edit-conseil-texte" rows="6" required placeholder="R√©digez votre conseil ici..."></textarea>
            </div>
            <div class="form-group">
                <label for="edit-conseil-lien">Lien internet (facultatif)</label>
                <input type="url" id="edit-conseil-lien" placeholder="https://...">
            </div>
            <div class="form-group">
                <label for="edit-conseil-source">Source (facultatif)</label>
                <input type="text" id="edit-conseil-source" placeholder="Ex: Livre, site web, exp√©rience...">
            </div>
            <div class="form-actions">
                <button type="submit" class="btn-primary">Mettre √† jour</button>
                <button type="button" class="btn-secondary btn-back-conseil" data-backview="liste">Annuler</button>
            </div>
        </form>
    </div>

</div>

        </section>

    </main>

        <!-- ======== MODALE DE CONFIRMATION ======== -->
    <div id="confirm-modal" class="modal-overlay hidden">
        <div class="modal-box">
            <p id="modal-message"></p>
            <div class="modal-buttons">
                <button id="modal-confirm" class="btn-primary">Confirmer</button>
                <button id="modal-cancel" class="btn-secondary">Annuler</button>
            </div>
        </div>
    </div>

    <!-- ======== TOAST ======== -->
    <div class="toast" id="toast"></div>

    <!-- ======== COPYRIGHT ======== -->
    <footer id="app-footer">
        <p>ENPLASE v0.01 ‚Äî Leroy Aur√©lien<br>¬© Tous Droits R√©serv√©s 2026</p>
    </footer>
    
    <!-- Service Worker -->
        <script>
        if ('serviceWorker' in navigator) {
            navigator.serviceWorker.register('./sw.js')
                .then(reg => console.log('SW enregistr√©:', reg.scope))
                .catch(err => console.error('SW erreur:', err));
        }
    </script>

    <script src="db.js"></script>
    <script src="app.js"></script>
</body>
</html>
